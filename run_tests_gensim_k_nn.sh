#!/bin/bash


MALWARE_DIR="parsed_malware"

alg=$1
window=$2
RESULTS_DIR="results_win${window}_sg${alg}"



### SETUP ###

# create results directory if it does not exist
[[ -d ${RESULTS_DIR} ]] || mkdir ${RESULTS_DIR}



### RUN TESTS ###

# running classification
echo "Removing Bad Parsed Malware"
./preprocess_parsed_malwares.sh

echo "Measuring Distances"
python test_gensim_k_nn.py $alg $window 

echo "Running K-NN Classifications"
python test_k_nn.py $alg $window

# parse results
./parse_results.sh ${RESULTS_DIR}

